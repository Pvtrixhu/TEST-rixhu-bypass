-- Notification (external module)
local NotificationHolder = loadstring(game:HttpGet("https://raw.githubusercontent.com/BocusLuke/UI/main/STX/Module.Lua"))()
local Notification = loadstring(game:HttpGet("https://raw.githubusercontent.com/BocusLuke/UI/main/STX/Client.Lua"))()
Notification:Notify(
   {Title = "By Father Rixhu, Insta ID ~ Pvtrixhu", Description = "Font Provided By Limo, youtube~ LuvLimo2"},
   {OutlineColor = Color3.fromRGB(0, 0, 0), Time = 8, Type = "default"}
)

-- UI Building
local G2L = {}
G2L["1"] = Instance.new("ScreenGui", game:GetService("CoreGui"))
G2L["2"] = Instance.new("Frame", G2L["1"])
G2L["2"].BackgroundColor3 = Color3.fromRGB(253, 198, 255)
G2L["2"].Size = UDim2.new(0, 316, 0, 128)
G2L["2"].Position = UDim2.new(0.5, -158, 0.5, -64)
G2L["2"].BorderSizePixel = 0

local mainUICorner = Instance.new("UICorner", G2L["2"])
mainUICorner.CornerRadius = UDim.new(0, 4)

local ImageBackground = Instance.new("ImageLabel", G2L["2"])
ImageBackground.Size = UDim2.new(1, 0, 1, 0)
ImageBackground.BackgroundTransparency = 1
ImageBackground.Image = "rbxassetid://113532136902880"

local TitleLabel = Instance.new("TextLabel", ImageBackground)
TitleLabel.Size = UDim2.new(1, 0, 0, 34)
TitleLabel.BackgroundTransparency = 0.3
TitleLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
TitleLabel.Text = "ï¼²ï¼©ï¼¸ï¼¨ï¼µ ï¼¢ï¼¹ï¼°ï¼¡ï¼³ï¼³"
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.TextScaled = true
Instance.new("UICorner", TitleLabel).CornerRadius = UDim.new(0, 4)

local InputBox = Instance.new("TextBox", ImageBackground)
InputBox.Size = UDim2.new(0.8, 0, 0, 30)
InputBox.Position = UDim2.new(0.1, 0, 0.4, 0)
InputBox.BackgroundColor3 = Color3.fromRGB(220, 34, 34)
InputBox.BackgroundTransparency = 0.2
InputBox.PlaceholderText = "ï½—ï½’ï½‰ï½”ï½… ï½ˆï½…ï½’ï½…"
InputBox.Text = ""
InputBox.TextScaled = true
InputBox.Font = Enum.Font.Code
InputBox.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", InputBox).CornerRadius = UDim.new(0, 2)

local SendButton = Instance.new("TextButton", ImageBackground)
SendButton.Size = UDim2.new(0.5, 0, 0, 30)
SendButton.Position = UDim2.new(0.25, 0, 0.75, 0)
SendButton.BackgroundColor3 = Color3.fromRGB(220, 34, 34)
SendButton.BackgroundTransparency = 0.2
SendButton.Text = "DIE !!"
SendButton.Font = Enum.Font.Nunito
SendButton.TextColor3 = Color3.fromRGB(255, 255, 255)
SendButton.TextScaled = true
Instance.new("UICorner", SendButton).CornerRadius = UDim.new(0, 2)

local AutoClearToggle = Instance.new("TextButton", G2L["2"])
AutoClearToggle.Size = UDim2.new(0, 100, 0, 30)
AutoClearToggle.Position = UDim2.new(0, 10, 0, 90)
AutoClearToggle.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
AutoClearToggle.Text = "Auto Clear: ON"
AutoClearToggle.Font = Enum.Font.SourceSans
AutoClearToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
AutoClearToggle.TextScaled = true

local MinimizeButton = Instance.new("TextButton", G2L["2"])
MinimizeButton.Size = UDim2.new(0, 60, 0, 30)
MinimizeButton.Position = UDim2.new(1, -65, 0, 5)
MinimizeButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MinimizeButton.Text = "-"
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.TextScaled = true

-- Variables
local isAutoClearEnabled = true
local isMinimized = false

-- Dragging Script
do
    local dragging
    local dragInput
    local dragStart
    local startPos
    local UserInputService = game:GetService("UserInputService")

    G2L["2"].InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = G2L["2"].Position

            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    G2L["2"].InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            G2L["2"].Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
                                          startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end

-- Filtering
local letters = {
    ["A"] = "ğŸ…°", ["B"] = "ğŸ…±", ["C"] = "ğŸ…²", ["D"] = "ğŸ…³", ["E"] = "ğŸ…´",
    ["F"] = "ğŸ…µ", ["G"] = "ğŸ…¶", ["H"] = "ğŸ…·", ["I"] = "ğŸ…¸", ["J"] = "ğŸ…¹",
    ["K"] = "ğŸ…º", ["L"] = "ğŸ…»", ["M"] = "ğŸ…¼", ["N"] = "ğŸ…½", ["O"] = "ğŸ…¾",
    ["P"] = "ğŸ…¿", ["Q"] = "ğŸ†€", ["R"] = "ğŸ†", ["S"] = "ğŸ†‚", ["T"] = "ğŸ†ƒ",
    ["U"] = "ğŸ†„", ["V"] = "ğŸ†…", ["W"] = "ğŸ††", ["X"] = "ğŸ†‡", ["Y"] = "ğŸ†ˆ",
    ["Z"] = "ğŸ†‰", ["a"] = "ğŸ…°", ["b"] = "ğŸ…±", ["c"] = "ğŸ…²", ["d"] = "ğŸ…³",
    ["e"] = "ğŸ…´", ["f"] = "ğŸ…µ", ["g"] = "ğŸ…¶", ["h"] = "ğŸ…·", ["i"] = "ğŸ…¸",
    ["j"] = "ğŸ…¹", ["k"] = "ğŸ…º", ["l"] = "ğŸ…»", ["m"] = "ğŸ…¼", ["n"] = "ğŸ…½",
    ["o"] = "ğŸ…¾", ["p"] = "ğŸ…¿", ["q"] = "ğŸ†€", ["r"] = "ğŸ†", ["s"] = "ğŸ†‚",
    ["t"] = "ğŸ†ƒ", ["u"] = "ğŸ†„", ["v"] = "ğŸ†…", ["w"] = "ğŸ††", ["x"] = "ğŸ†‡",
    ["y"] = "ğŸ†ˆ", ["z"] = "ğŸ†‰", ["0"] = "ï¼", ["1"] = "ï¼‘", ["2"] = "ï¼’",
    ["3"] = "ï¼“", ["4"] = "ï¼”", ["5"] = "ï¼•", ["6"] = "ï¼–", ["7"] = "ï¼—",
    ["8"] = "ï¼˜", ["9"] = "ï¼™", [" "] = " "
}

local function filterText(msg)
    local newMsg = ""
    for i = 1, #msg do
        local char = msg:sub(i, i)
        newMsg = newMsg .. (letters[char] or char)
    end
    return newMsg
end

local function sendChat(message)
    local success, err = pcall(function()
        local filtered = filterText(message)
        local chatService = game:GetService("TextChatService")
        if chatService.ChatVersion == Enum.ChatVersion.LegacyChatService then
            game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(filtered, "All")
        else
            chatService.ChatInputBarConfiguration.TargetTextChannel:SendAsync(filtered)
        end
    end)

    if not success then
        Notification:Notify({Title = "Error", Description = tostring(err)}, {OutlineColor = Color3.fromRGB(255, 0, 0), Time = 5})
    end
end

-- Button Functions
SendButton.MouseButton1Click:Connect(function()
    if InputBox.Text ~= "" then
        sendChat(InputBox.Text)
        if isAutoClearEnabled then
            InputBox.Text = ""
        end
    end
end)

AutoClearToggle.MouseButton1Click:Connect(function()
    isAutoClearEnabled = not isAutoClearEnabled
    AutoClearToggle.Text = isAutoClearEnabled and "Auto Clear: ON" or "Auto Clear: OFF"
end)

MinimizeButton.MouseButton1Click:Connect(function()
    isMinimized = not isMinimized
    for _, obj in ipairs(G2L["2"]:GetChildren()) do
        if obj ~= MinimizeButton then
            obj.Visible = not isMinimized
        end
    end
end)
